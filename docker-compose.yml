version: "3.9"
services:
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: 123456
      MYSQL_DATABASE: aiarena
    ports: ["3306:3306"]

  backend:
    build: ./backend
    ports: ["8000:8000"]
    depends_on: [db]
    volumes: ["./backend:/app"]

  frontend: # <-- ðŸŒŸ ç¡®ä¿è¿™é‡Œæœ‰æ­£ç¡®çš„ç¼©è¿›ï¼Œä½¿å…¶æˆä¸º services çš„å­é¡¹
    build: ./frontend
    ports: ["5173:80"]  # ä¸»æœº 5173 æ˜ å°„åˆ°å®¹å™¨å†… Nginx ç›‘å¬çš„ 80 ç«¯å£ (å·²ä¿®æ­£)
    volumes: ["./frontend:/app"]